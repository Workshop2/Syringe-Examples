{
  "Tests": [
    {
      "Description": "Landing Page",
      "Method": "GET",
      "Url": "{baseurl}",
      "PostBody": null,
      "ExpectedHttpStatusCode": 200,
      "Headers": [],
      "CapturedVariables": [
        {
          "Name": "new-test-file-page-path",
          "Regex": "<a .*?title=\"Add\".*?href=\"(.*?)\">",
          "PostProcessorType": 1
        }
      ],
      "Assertions": [
        {
          "Description": "Should be running in guest mode",
          "AssertionMethod": 0,
          "Value": "<h1>Login<\\/h1>",
          "AssertionType": 1
        },
        {
          "Description": "Should display H2",
          "AssertionMethod": 0,
          "Value": "<h2>Test Files</h2>",
          "AssertionType": 0
        },
        {
          "Description": "Should contain add button",
          "AssertionMethod": 0,
          "Value": "<i(.*?)>add<\\/i>",
          "AssertionType": 0
        },
        {
          "Description": "Should not have test file (please delete)",
          "AssertionMethod": 0,
          "Value": "<td class=\"filename\">{test-file-name}.json<\\/td>",
          "AssertionType": 1
        }
      ],
      "BeforeExecuteScript": null
    },
    {
      "Description": "New test file page",
      "Method": "GET",
      "Url": "{baseurl}{new-test-file-page-path}",
      "PostBody": null,
      "ExpectedHttpStatusCode": 200,
      "Headers": [],
      "CapturedVariables": [
        {
          "Name": "create-new-test-file-path",
          "Regex": "<form action=\"(.*?)\".*?",
          "PostProcessorType": 1
        }
      ],
      "Assertions": [
        {
          "Description": "Should be on add test page",
          "AssertionMethod": 0,
          "Value": "<title>Add test - Syringe<\\/title>",
          "AssertionType": 0
        }
      ],
      "BeforeExecuteScript": null
    },
    {
      "Description": "Create new test file",
      "Method": "POST",
      "Url": "{baseurl}{create-new-test-file-path}",
      "PostBody": "Filename={test-file-name}",
      "ExpectedHttpStatusCode": 200,
      "Headers": [],
      "CapturedVariables": [
        {
          "Name": "edit-test-file-path",
          "Regex": "<a title=\"View\".*?href=\"(.*?{test-file-name}\\.json)\">",
          "PostProcessorType": 1
        }
      ],
      "Assertions": [
        {
          "Description": "Should display expected H2",
          "AssertionMethod": 0,
          "Value": "<h2>Test Files</h2>",
          "AssertionType": 0
        },
        {
          "Description": "Should display test file in window",
          "AssertionMethod": 0,
          "Value": "<td class=\"filename\">{test-file-name}.json<\\/td>",
          "AssertionType": 0
        }
      ],
      "BeforeExecuteScript": null
    },
    {
      "Description": "Edit Test File",
      "Method": "GET",
      "Url": "{baseurl}{edit-test-file-path} ",
      "PostBody": null,
      "ExpectedHttpStatusCode": 200,
      "Headers": [],
      "CapturedVariables": [
        {
          "Name": "view-variables-path",
          "Regex": "<a.*?href=\"(.*?filename={test-file-name}.json.*?)\">Variables<\\/a>",
          "PostProcessorType": 1
        }
      ],
      "Assertions": [
        {
          "Description": "Should be on edit test page",
          "AssertionMethod": 0,
          "Value": "<title>Viewing {test-file-name}.json - Syringe<\\/title>",
          "AssertionType": 0
        }
      ],
      "BeforeExecuteScript": null
    },
    {
      "Description": "View Variables Page",
      "Method": "GET",
      "Url": "{baseurl}{view-variables-path}",
      "PostBody": null,
      "ExpectedHttpStatusCode": 200,
      "Headers": [],
      "CapturedVariables": [
        {
          "Name": "edit-variables-path",
          "Regex": "<form action=\"(.*?{test-file-name}.*?)\" method=\"post\".*?>",
          "PostProcessorType": 1
        }
      ],
      "Assertions": [],
      "BeforeExecuteScript": null
    },
    {
      "Description": "Should Create Variable",
      "Method": "POST",
      "Url": "{baseurl}{edit-variables-path}",
      "PostBody": "Filename={test-file-name}.json&Variables%5B0%5D.Environment=Development&Variables%5B0%5D.Name={variable-name}&Variables%5B0%5D.Value={variable-value}",
      "ExpectedHttpStatusCode": 200,
      "Headers": [],
      "CapturedVariables": [
        {
          "Name": "view-new-test-path",
          "Regex": "<a.*?href=\"(.*?{test-file-name}.json.*?)\">Add",
          "PostProcessorType": 1
        }
      ],
      "Assertions": [],
      "BeforeExecuteScript": null
    },
    {
      "Description": "Ensure variables are saved",
      "Method": "GET",
      "Url": "{baseurl}{view-variables-path}",
      "PostBody": null,
      "ExpectedHttpStatusCode": 200,
      "Headers": [],
      "CapturedVariables": [],
      "Assertions": [
        {
          "Description": "Should contain variable title",
          "AssertionMethod": 0,
          "Value": "<input.*?value=\"{variable-name}\" \\/>",
          "AssertionType": 0
        },
        {
          "Description": "Should contain variable value",
          "AssertionMethod": 0,
          "Value": "<input.*?value=\"{variable-value}\" \\/>",
          "AssertionType": 0
        },
        {
          "Description": "Should contain env",
          "AssertionMethod": 0,
          "Value": "<option selected=\"selected\" value=\"Development\">Development<\\/option>",
          "AssertionType": 0
        }
      ],
      "BeforeExecuteScript": null
    },
    {
      "Description": "View new test page",
      "Method": "GET",
      "Url": "{baseurl}{view-new-test-path}",
      "PostBody": null,
      "ExpectedHttpStatusCode": 200,
      "Headers": [],
      "CapturedVariables": [],
      "Assertions": [
        {
          "Description": "Should display available variables",
          "AssertionMethod": 0,
          "Value": "<strong>Available variables<\\/strong>",
          "AssertionType": 0
        },
        {
          "Description": "Should contain created variables",
          "AssertionMethod": 0,
          "Value": "{{variable-name}} - {variable-value}",
          "AssertionType": 0
        }
      ],
      "BeforeExecuteScript": null
    }
  ],
  "Variables": [
    {
      "Name": "baseurl",
      "Value": "http://localhost:1980",
      "Environment": {
        "Name": "Development"
      }
    },
    {
      "Name": "test-file-name",
      "Value": "syringe-acceptance-test",
      "Environment": {
        "Name": "Development"
      }
    },
    {
      "Name": "variable-name",
      "Value": "TEST-VARIABLE-NAME",
      "Environment": {
        "Name": "Development"
      }
    },
    {
      "Name": "variable-value",
      "Value": "TEST-VARIABLE-VALUE",
      "Environment": {
        "Name": "Development"
      }
    }
  ]
}